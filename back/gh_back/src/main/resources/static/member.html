<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>íšŒì› ì •ë³´</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #ECF0E1;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }

        .container {
            display: flex;
            gap: 20px;
            z-index: 1000;
        }

        .userBox {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            width: 220px;
            display: flex;
            flex-direction: column;
            z-index: 1000;
        }

        .teamBox {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            width: 900px;
            display: flex;
            flex-direction: column;
        }

        .teamInfo {
            display: flex;
            justify-content: center;
            border-top: 2px solid #ced4da;
            align-items: flex-start;
            width: 100%;
        }

        h1 {
            margin-bottom: 30px;
        }

        h2 {
            text-align: center;
            color: #333;
            margin-bottom: 20px;
            margin-top: 10px;
        }

        .teamBox h2 {
            margin-bottom: 10px;
            margin-top: 0;
        }

        .info {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .userBox h2 {
            margin-top: 0;
            padding-top: 25px;
            border-top: 5px solid #d8ddd8;
        }

        .user {
            display: flex;
            align-items: center;
            width: 100%;
        }

        .user label {
            width: 100px;
            font-size: 16px;
            color: #555;
        }

        input:disabled {
            background-color: #e9ecef; /* ë¹„í™œì„±í™” ì‹œ ì—°í•œ íšŒìƒ‰ */
            color: #6c757d; /* ë¹„í™œì„±í™” ì‹œ í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
            border: 1px solid #ced4da; /* ë¹„í™œì„±í™” ì‹œ í…Œë‘ë¦¬ ìƒ‰ìƒ */
            cursor: not-allowed; /* ë§ˆìš°ìŠ¤ ì»¤ì„œ ë³€ê²½ */
        }

        select, input {
            width: calc(100% - 2px); /* ë™ì¼í•œ ë„ˆë¹„ ì„¤ì • */
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 16px;
            box-sizing: border-box; /* íŒ¨ë”©ê³¼ í…Œë‘ë¦¬ë¥¼ ë„ˆë¹„ì— í¬í•¨ */
            text-align: center;
        }

        .user input {
            margin-left: auto;
            width: calc(100% - 100px);
            margin-top: 7px;
            margin-bottom: 7px;
        }

        .user select {
            width: calc(100% - 100px);
        }

        input:focus, select:focus {
            border-color: #009000;
            outline: none;
        }

        button {
            width: 100%;
            padding: 10px;
            background-color: #009000;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: background-color 0.1s ease-in-out;
        }

        button:hover {
            background-color: #007500;
        }

        .userBox button {
            margin-top: 20px;
        }

        #change-positions-btn {
            margin-top: 30px;
        }

        .logout-btn {
            background-color: #FF4C4C;
        }

        .logout-btn:hover {
            background-color: #cc3b3b;
        }

        .invite-section {
            flex: 1;
            padding: 15px;
            border-radius: 12px;
            background-color: white;
        }

        #team-section {
            list-style-type: none;
            padding: 5px;
            height: 490px;
            overflow-y: auto;
            border-radius: 10px;
            border: 3px solid #ECF0E1;
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .team-button {
            flex-shrink: 0;
            display: block;
            width: 100%;
            padding: 5px 10px;
            border: none;
            background-color: #fafafa;
            color: darkslategray;
            font-size: 16px;
            cursor: pointer;
            border-radius: 5px;
            font-weight: normal;
            text-align: left;
        }

        .team-button:hover {
            background-color: #ECF0E1;
        }

        /* ë‚´ë¶€ ì»¨í…Œì´ë„ˆë¥¼ flexë¡œ ì‚¬ìš©í•˜ì—¬ ì¢Œìš° ì •ë ¬ */
        .team-button-content {
            display: flex;
            justify-content: space-between; /* ì¢Œìš° ì •ë ¬ */
            align-items: center;
            width: 100%;
        }

        .team-name {
            text-align: left;
            flex-grow: 1;
        }

        .team-formation {
            text-align: right;
            font-weight: bold;
        }

        .create-section {
            flex: 7; /* ë™ì¼í•œ ë„ˆë¹„ ì„¤ì • */
            padding-bottom: 0;
        }

        .formation-section {
            display: flex;
            gap: 10px;
            height: 32px;
            border: 3px solid #ECF0E1;
            border-radius: 10px;
            padding: 5px;
        }

        .formation-section select {
            width: 120px;
            margin: 0;
            padding: 0;
        }

        .formation-section input {
            width: 300px;
            margin: 0;
            padding: 0;
        }

        .formation-section button {
            width: 78px;
            padding: 0;
        }

        #private-check {
            width: 15px;
            margin-right: -5px;
        }

        .formation-section label {
            width: 40px;
            line-height: 22px;
        }

        .join-section {
            flex: 3; /* ë™ì¼í•œ ë„ˆë¹„ ì„¤ì • */
            padding-bottom: 0;
        }

        .invite-section h3 {
            text-align: center;
            margin-bottom: 10px;
            margin-top: 0;
        }

        .invite-section label {
            font-size: 14px;
            margin: 5px 0;
            display: block;
        }

        .team-board {
            width: 558px;
            padding: 20px;
            border: 3px solid #ECF0E1;
            border-radius: 10px;
            height: 364px;
        }

        /* íŒ€ ëª©ë¡ ìŠ¤íƒ€ì¼ */
        .team-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .team-item-class {
            padding: 5px 10px;
            border-top: 1px solid #ddd;
            font-size: 16px;
            color: #333;
            transition: background-color 0.3s ease;
            background-color: #e9ecef;
        }

        .search-team-box {
            display: flex;
            align-content: center;
            justify-content: space-between;
            width: 100%;
            gap: 10px;
        }

        .page-search {
            width: 100px;
            padding: 5px;
            margin-bottom: 5px;
            height: 30px;
            margin-top: 5px;
        }

        .page-number {
            width: 100px;
            list-style: none; /* ê¸°ë³¸ ë¦¬ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ ì œê±° */
            padding: 0 5px;
            margin: 0 auto;
            text-align: center; /* ê°€ìš´ë° ì •ë ¬ */
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 30px; /* ê¸°ë³¸ ë†’ì´ ì„¤ì • */
            gap: 5px;
        }

        .page-number li {
            background-color: #fafafa;
            border-radius: 5px;
            padding: 5px 10px;
        }

        .page-number li:hover {
            cursor: pointer;
            background-color: #ECF0E1;
        }

        .search-container {
            position: relative;
            display: inline-block;
        }

        .search-team {
            width: 200px;
            height: 30px;
            padding: 5px 35px 5px 10px;
            margin-top: 5px;
            margin-bottom: 5px;
        }

        .search-button {
            position: absolute;
            right: 5px;
            top: 50%;
            transform: translateY(-50%);
            background-color: #fafafa;
            border: none;
            cursor: pointer;
            font-size: 16px;
            width: 30px;
            text-align: center;
            padding: 0;
        }

        .search-button:hover {
            background-color: #ECF0E1;
        }

        /* ê°œë³„ íŒ€ í•­ëª© ìŠ¤íƒ€ì¼ */
        .team-item {
            padding: 5px 10px;
            border-top: 1px solid #ddd;
            font-size: 16px;
            color: #333;
            transition: background-color 0.3s ease;
            background-color: #fafafa;
        }

        /* ë§ˆì§€ë§‰ ì•„ì´í…œì˜ ì•„ë˜ êµ¬ë¶„ì„  */
        .team-item:last-child {
            border-bottom: 1px solid #ddd;
        }

        /* ë§ˆìš°ìŠ¤ í˜¸ë²„ ì‹œ íš¨ê³¼ */
        .team-item:hover {
            background-color: #ECF0E1;
            cursor: pointer;
        }

        footer {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            color: darkslategray;
            text-align: center;
            padding: 10px 0;
        }

        .footer-content {
            display: flex;
        }

        .footer-content p:first-child {
            width: 50%;
            text-align: left;
            padding-left: 125px;
            margin-top: 0;
            margin-bottom: 0;
        }

        .footer-content p:last-child {
            width: 50%;
            text-align: right;
            padding-right: 125px;
            margin-top: 0;
            margin-bottom: 0;
        }

        .link {
            display: inline-flex;
            align-items: center; /* ì„¸ë¡œ ì •ë ¬ */
            text-decoration: none;
            font-size: 16px;
            margin-top: 0;
            margin-right: 10px;
        }

        .link:nth-child(2)::before, .link:nth-child(3)::before {
            content: "|";  /* ì•ì— êµ¬ë¶„ì„  ì¶”ê°€ */
            margin-right: 15px;  /* êµ¬ë¶„ì„ ê³¼ í…ìŠ¤íŠ¸ ì‚¬ì´ ê°„ê²© */
            color: darkslategray;
        }

        .link:last-child {
            margin-right: 0;
        }

        .link img {
            width: 15px;
            height: auto;
            vertical-align: middle; /* í…ìŠ¤íŠ¸ì™€ ê°™ì€ ë†’ì´ë¡œ ì •ë ¬ */
            margin-right: 5px; /* ì´ë¯¸ì§€ì™€ í…ìŠ¤íŠ¸ ì‚¬ì´ ê°„ê²© */
        }

        a {
            display: block;
            margin-top: 10px;
            color: darkslategray;
            text-decoration: none;
            text-align: center;
        }

        a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
<!--<body onload="openPopup()">-->
    <div class="container">
        <!-- íšŒì› ì •ë³´ ë°•ìŠ¤ -->
        <div class="userBox">
            <h1><i>Online<br>Locker Room</i></h1>
            <h2>íšŒì› ì •ë³´</h2>
            <div class="info">
                <div class="user">
                    <label for="memberUsername">ì‚¬ìš©ìëª…</label>
                    <input type="text" id="memberUsername" disabled>
                </div>
                <div class="user">
                    <label for="position1">ì„ í˜¸ í¬ì§€ì…˜ 1</label>
                    <input type="text" id="position1" disabled>
                </div>
                <div class="user">
                    <label for="position2">ì„ í˜¸ í¬ì§€ì…˜ 2</label>
                    <input type="text" id="position2" disabled>
                </div>
                <div class="user">
                    <label for="position3">ì„ í˜¸ í¬ì§€ì…˜ 3</label>
                    <input type="text" id="position3" disabled>
                </div>
            </div>
            <button id="change-positions-btn">í¬ì§€ì…˜ ë³€ê²½</button>
            <button class="logout-btn" onclick="logout()">ë¡œê·¸ì•„ì›ƒ</button>
        </div>

        <!-- íŒ€ êµ¬ì„± ë° ì…ë ¥ ë°•ìŠ¤ -->
        <div class="teamBox">
            <h2>íŒ€ êµ¬ì„±</h2>
            <div class="teamInfo">
                <div class="invite-section join-section">
                    <h3>ë‚´ê°€ ì†Œì†ëœ íŒ€ ëª©ë¡</h3>
                    <div id="team-section"></div>
                </div>
                <div class="invite-section create-section">
                    <h3>ìƒˆë¡œ ìƒì„±í•  íŒ€ëª… (ë˜ëŠ” ê²½ê¸°ëª…)</h3>
                    <div class="formation-section">
                        <select id="formationSelect">
                            <option value="">[í¬ë©”ì´ì…˜]</option>
                            <option value="442">4-4-2</option>
                            <option value="4231">4-2-3-1</option>
                            <option value="433">4-3-3</option>
                            <option value="352">3-5-2</option>
                            <option value="343">3-4-3</option>
                        </select>
                        <input type="text" id="inviteCodeInput" placeholder="ìƒì„±í•  íŒ€ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”! (ìµœëŒ€ 10ì)">
                        <input type="checkbox" id="private-check">
                        <label for="private-check">ë¹„ê³µê°œ</label>
                        <button onclick="createInviteCode()">íŒ€ ìƒì„±</button>
                    </div>
                    <h3 style="margin-top: 15px;">íŒ€ ëª©ë¡</h3>
                    <div class="team-board">
                        <ul class="team-list">
                            <li class="team-item-class">ë²ˆí˜¸
                                <span style="margin: 80px;">íŒ€ëª…</span>
                                <span style="margin: 125px;">ì„¤ëª…</span>
                                ì„ íƒ</li>
                            <li class="team-item">íŒ€ A</li>
                            <li class="team-item">íŒ€ B</li>
                            <li class="team-item">íŒ€ C</li>
                            <li class="team-item">íŒ€ D</li>
                            <li class="team-item">íŒ€ E</li>
                            <li class="team-item">íŒ€ F</li>
                            <li class="team-item">íŒ€ G</li>
                            <li class="team-item">íŒ€ H</li>
                            <li class="team-item">íŒ€ I</li>
                            <li class="team-item">íŒ€ J</li>
                        </ul>
                        <div class="search-team-box">
                            <input class="page-search" placeholder="í˜ì´ì§€ ê²€ìƒ‰">
                            <ul class="page-number">
                                <li><</li>
                                <li>1</li>
                                <li>2</li>
                                <li>3</li>
                                <li>4</li>
                                <li>5</li>
                                <li>></li>
                            </ul>
                            <div class="search-container">
                                <input class="search-team" placeholder="ê²€ìƒ‰í•  íŒ€ëª…">
                                <button class="search-button">ğŸ”</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer>
        <div class="footer-content">
            <p>Â© 2025 Dku Bool-Dozer. All rights reserved.</p>
            <p>
                <a href="https://cms.dankook.ac.kr/web/ace" class="link" target="_blank">
                    <img src="Dku_logo.png" alt="DkuCE"> DKU[CE]</a>
                <a href="https://www.instagram.com/dku_booldozer/" class="link" target="_blank">
                    <img src="Instagram_icon.png.webp" alt="Instagram"> Instagram</a>
                <a href="https://open.kakao.com/o/ssulAJ9g" class="link" target="_blank">
                    <img src="KakaoTalk_logo.svg.png" alt="Kakaotalk"> KakaoTalk</a>
            </p>
        </div>
    </footer>

    <script>
        // í˜ì´ì§€ ë¡œë“œ í›„ ì´ˆê¸° ì„¤ì •
        document.addEventListener('DOMContentLoaded', () => {
            const inviteCodeInput = document.getElementById('inviteCodeInput');
            inviteCodeInput.focus(); // ìë™ìœ¼ë¡œ í¬ì»¤ìŠ¤ ì„¤ì •
        });

        const userData = JSON.parse(localStorage.getItem('userData'));

        if (!userData) {
            alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');
            window.location.href = 'index.html';
        } else {
            document.getElementById('memberUsername').value = userData.username;
            document.getElementById('position1').value = userData.positions[0];
            document.getElementById('position2').value = userData.positions[1];
            document.getElementById('position3').value = userData.positions[2];
        }

        // íŒ€ ìƒˆë¡œ ë§Œë“¤ê¸°
        function createInviteCode() {
            const inviteCode = document.getElementById('inviteCodeInput').value;
            const username = userData.username;
            const formation = document.getElementById('formationSelect').value;
            const isPrivate = document.getElementById('private-check').checked;

            if (!formation) {
                alert('í¬ë©”ì´ì…˜ì„ ì„ íƒí•˜ì„¸ìš”.');
                return;
            }

            if (!inviteCode) {
                alert('ìƒì„±í•  íŒ€ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”.');
                return;
            }

            if (inviteCode.length > 10) {
                alert('íŒ€ ì´ë¦„ì€ 10ì ì´ë‚´ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            userData.inviteCode = inviteCode;
            localStorage.setItem('userData', JSON.stringify(userData));
    
            fetch('http://localhost:8080/api/invite/create', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ inviteCode, formation, username, isPrivate }),
            })
                .then(response => {
                    if (response.ok) {
                        alert('íŒ€ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.');
                        redirectToFormationPage(formation);
                    } else {
                        response.text().then(text => {
                            alert(text);
                        });
                    }
                })
                .catch(error => {
                    console.error('íŒ€ ìƒì„± ì¤‘ ì˜¤ë¥˜:', error);
                    alert('íŒ€ ìƒì„± ì¤‘ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
                });
        }

        // ìœ ì €ê°€ ì†í•œ íŒ€ ëª©ë¡ ì¶œë ¥ & ë§í¬ ì´ë™
        document.addEventListener('DOMContentLoaded', loadUserTeams);

        function loadUserTeams() {
            const username = userData.username;  // í˜„ì¬ ë¡œê·¸ì¸ëœ ì‚¬ìš©ìëª…

            fetch(`http://localhost:8080/api/invite/getTeams?username=${username}`)
                .then(response => response.json())
                .then(data => {
                    const teamSection = document.getElementById('team-section');
                    teamSection.innerHTML = ''; // ê¸°ì¡´ ëª©ë¡ ì´ˆê¸°í™”

                    if (!data.success || data.teams.length === 0) {
                        teamSection.innerHTML = '<p style="text-align: center;">ì°¸ì—¬ ì¤‘ì¸ íŒ€ì´ ì—†ìŠµë‹ˆë‹¤.</p>';
                        return;
                    }

                    data.teams.forEach(team => {
                        const formattedFormation = formatFormation(team.formation); // í¬ë©”ì´ì…˜ ë³€í™˜

                        const button = document.createElement('button');
                        button.classList.add('team-button'); // ê¸°ì¡´ ë””ìì¸ ìœ ì§€
                        button.onclick = () => {
                            saveInviteData(team.inviteCode, team.formation);
                            redirectToFormationPage(team.formation);
                        };

                        // ë‚´ë¶€ ì»¨í…Œì´ë„ˆ ìƒì„± (íŒ€ëª… + í¬ë©”ì´ì…˜ ì¢Œìš° ì •ë ¬)
                        const contentDiv = document.createElement('div');
                        contentDiv.classList.add('team-button-content');

                        const teamNameSpan = document.createElement('span');
                        teamNameSpan.textContent = team.inviteCode;
                        teamNameSpan.classList.add('team-name');

                        const formationSpan = document.createElement('span');
                        formationSpan.textContent = `[${formattedFormation}]`;
                        formationSpan.classList.add('team-formation');

                        contentDiv.appendChild(teamNameSpan);
                        contentDiv.appendChild(formationSpan);
                        button.appendChild(contentDiv);
                        teamSection.appendChild(button);
                    });
                })
                .catch(error => {
                    console.error('íŒ€ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜:', error);
                    document.getElementById('team-section').innerHTML = '<p>íŒ€ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.</p>';
                });
        }

        // í¬ë©”ì´ì…˜ ë³€í™˜ í•¨ìˆ˜ (ì˜ˆ: "442" -> "4-4-2")
        function formatFormation(formation) {
            return formation.split("").join("-"); // ìˆ«ì ì‚¬ì´ì— "-" ì¶”ê°€
        }

        // ì´ˆëŒ€ì½”ë“œ ë° ìœ ì € ë°ì´í„° ì €ì¥ í•¨ìˆ˜
        function saveInviteData(inviteCode, formation) {
            const userData = JSON.parse(localStorage.getItem('userData')) || {};
            userData.inviteCode = inviteCode;  // ì´ˆëŒ€ì½”ë“œ ì €ì¥
            userData.formation = formation;    // í¬ë©”ì´ì…˜ ì €ì¥
            localStorage.setItem('userData', JSON.stringify(userData)); // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥
        }

        function redirectToFormationPage(formation) {
            window.location.href = `stadium${formation}.html`; // í•´ë‹¹ í¬ë©”ì´ì…˜ í˜ì´ì§€ë¡œ ì´ë™
        }

        // í¬ì§€ì…˜ ë³€ê²½ ë£¨í‹´ //
        let toggle = false;
        const positionsList = [ "GK",
                                "LB", "CB", "LCB", "RCB", "RB",
                                "LM", "CM", "CDM", "CAM", "RM",
                                "LW", "ST", "RW" ]; // ì„ íƒ ê°€ëŠ¥í•œ í¬ì§€ì…˜ ëª©ë¡
        // í¬ì§€ì…˜ ë³€ê²½ ê°€ëŠ¥í•œ ë§¤ì»¤ë‹ˆì¦˜ìœ¼ë¡œ ë³€ê²½í•˜ëŠ” í•¨ìˆ˜
        function ch_positions() {
            for (let i = 1; i <= 3; i++) {
                const inputField = document.getElementById(`position${i}`);
                const currentValue = inputField.value;

                // ê¸°ì¡´ inputì„ selectë¡œ ë³€ê²½
                const select = document.createElement("select");
                select.id = `position${i}`;
                select.style.width = "calc(100% - 100px)";
                select.style.padding = "10px";
                select.style.border = "1px solid #ddd";
                select.style.borderRadius = "6px";
                select.style.fontSize = "15px";
                select.style.marginTop = "7px";
                select.style.marginBottom = "7px";

                positionsList.forEach(pos => {
                    const option = document.createElement("option");
                    option.value = pos;
                    option.textContent = pos;
                    if (pos === currentValue) {
                        option.selected = true;
                    }
                    select.appendChild(option);
                });

                inputField.replaceWith(select); // ê¸°ì¡´ inputì„ selectë¡œ ë³€ê²½
            }
        }
        // ë³€ê²½í•œ í¬ì§€ì…˜ì„ ì €ì¥í•˜ê³  í‘œì‹œí•˜ëŠ” í•¨ìˆ˜
        function save_positions() {
            const username = userData.username; // í˜„ì¬ ë¡œê·¸ì¸í•œ ì‚¬ìš©ìëª…
            const position1 = document.getElementById("position1").value;
            const position2 = document.getElementById("position2").value;
            const position3 = document.getElementById("position3").value;

            // ìƒˆë¡œìš´ í¬ì§€ì…˜ ì •ë³´ë¡œ ì—…ë°ì´íŠ¸
            userData.positions = [position1, position2, position3];
            localStorage.setItem('userData', JSON.stringify(userData)); // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ë„ ì—…ë°ì´íŠ¸

            // ì„œë²„ë¡œ ë³€ê²½ëœ í¬ì§€ì…˜ ì •ë³´ ì „ì†¡
            fetch("http://localhost:8080/api/users/update-positions", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                },
                body: JSON.stringify({
                    username: username,
                    positions: [position1, position2, position3]
                }),
            }).catch(error => {
                    console.error("í¬ì§€ì…˜ ë³€ê²½ ì¤‘ ì˜¤ë¥˜ ë°œìƒ:", error);
                    alert("í¬ì§€ì…˜ ë³€ê²½ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.");
                });

            for (let i = 1; i <= 3; i++) {
                const selectField = document.getElementById(`position${i}`);
                const selectedValue = selectField.value;

                // ê¸°ì¡´ selectë¥¼ inputìœ¼ë¡œ ë³€ê²½
                const input = document.createElement("input");
                input.type = "text";
                input.id = `position${i}`;
                input.value = selectedValue;
                input.disabled = true;
                input.style.width = "calc(100% - 100px)";
                input.style.padding = "10px";
                input.style.border = "1px solid #ddd";
                input.style.borderRadius = "6px";
                input.style.fontSize = "16px";
                input.style.backgroundColor = "#e9ecef";
                input.style.color = "#black";

                selectField.replaceWith(input); // ê¸°ì¡´ selectë¥¼ inputìœ¼ë¡œ ë³€ê²½
            }
        }
        // í¬ì§€ì…˜ ë³€ê²½ <-> ì €ì¥ ë²„íŠ¼ ui ì „í™˜í•˜ëŠ” ë£¨í‹´
        document.getElementById("change-positions-btn").addEventListener("click", function() {
            if (toggle) {
                save_positions();
                this.textContent = "í¬ì§€ì…˜ ë³€ê²½";
                this.style.backgroundColor = "#009000";
                this.onmouseover = () => this.style.backgroundColor = "#007500";
                this.onmouseout = () => this.style.backgroundColor = "#009000";
            } else {
                ch_positions();
                this.textContent = "í¬ì§€ì…˜ ì €ì¥";
                this.style.backgroundColor = "#007BFF";
                this.onmouseover = () => this.style.backgroundColor = "#0056B3";
                this.onmouseout = () => this.style.backgroundColor = "#007BFF";
            }
            toggle = !toggle;
        });

        // ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ ë£¨í‹´
        function logout() {
            localStorage.removeItem('userData');
            window.location.href = 'index.html';
        }
    </script>
</body>
</html>